---
import LogoHospitalVirtual from "../icons/logo_hospital_virtual.astro"
---
<section class="hospital-section">
    <div class="content">
        <LogoHospitalVirtual 
            width="600px"    
        />
        <div class="gallery">
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img1.jpg" alt="Imagen 1">
            </div>
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img2.jpg" alt="Imagen 2">
            </div>
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img3.jpg" alt="Imagen 3">
            </div>
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img4.jpg" alt="Imagen 4">
            </div>
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img5.jpg" alt="Imagen 5">
            </div>
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img6.jpg" alt="Imagen 6">
            </div>
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img7.jpg" alt="Imagen 7">
            </div>
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img8.jpg" alt="Imagen 8">
            </div>
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img9.jpg" alt="Imagen 9">
            </div>
            <div class="img-container">
                <img src="/images/hospital_virtual/HV_img10.jpg" alt="Imagen 10">
            </div>
        </div>
    </div>
</section>
<div id="modal" class="modal">
    <span class="close" id="modal-close">&times;</span>
    <img class="modal-content" id="modal-img">
    <div class="modal-nav">
        <span class="prev" id="modal-prev">&#10094;</span>
        <span class="next" id="modal-next">&#10095;</span>
    </div>
</div>

<style>
    .hospital-section {
        margin-top: -50px;
        padding: 70px 20px;
        background: var(--black);
    }

    .content {
        display: flex;
        flex-direction: column;
        align-items: center;
        max-width: 1080px;
        margin: auto;
    }

    .gallery {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        margin: 70px 0 120px;
        gap: 15px;
        width: 100%;
    }

    .img-container {
        position: relative;
        width: 100%;
        padding-bottom: 55.36%;
        overflow: hidden;
    }

    .img-container img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        transition: object-position 0.45s ease-in-out;
        cursor: pointer;
    }

    .img-container:hover img {
        object-position: bottom;
    }

    @media (max-width: 768px) {
        .gallery {
            grid-template-columns: 1fr;
        }
    }

    .modal {
        display: none;
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.9);
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .modal-content {
        position: absolute;
        top: 50%;
        right: 50%;
        transform: translateY(-50%) translateX(50%);
        display: block;
        width: 85%;
        max-width: 1440px;
    }

    .close {
        position: absolute;
        top: 190px;
        right: 50px;
        color: #fff;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
    }

    .close:hover,
    .close:focus {
        color: #bbb;
        text-decoration: none;
        cursor: pointer;
    }

    .modal-nav {
        position: absolute;
        top: 50%;
        width: 100%;
        display: flex;
        justify-content: space-between;
        padding: 0 20px;
        transform: translateY(-50%);
    }

    .prev,
    .next {
        cursor: pointer;
        color: #fff;
        font-size: 30px;
        font-weight: bold;
        transition: 0.3s;
        user-select: none;
    }

    .prev:hover,
    .next:hover {
        color: #bbb;
    }
</style>

<script>
    const modal = document.getElementById("modal");
    const modalImg = document.getElementById("modal-img");
    const images = document.querySelectorAll(".img-container img");
    const closeBtn = document.getElementById("modal-close");
    const prevBtn = document.getElementById("modal-prev");
    const nextBtn = document.getElementById("modal-next");
    let currentIndex = 0;

    images.forEach((img, index) => {
        img.addEventListener("click", () => {
            currentIndex = index;
            openModal();
        });
    });

    function openModal() {
        modal.style.display = "block";
        modalImg.src = images[currentIndex].src;
    }

    function closeModal() {
        modal.style.display = "none";
    }

    function showPrev() {
        currentIndex = (currentIndex > 0) ? currentIndex - 1 : images.length - 1;
        modalImg.src = images[currentIndex].src;
    }

    function showNext() {
        currentIndex = (currentIndex < images.length - 1) ? currentIndex + 1 : 0;
        modalImg.src = images[currentIndex].src;
    }

    closeBtn.addEventListener("click", closeModal);
    prevBtn.addEventListener("click", showPrev);
    nextBtn.addEventListener("click", showNext);

    window.addEventListener("click", (event) => {
        if (event.target === modal) {
            closeModal();
        }
    });
</script>

