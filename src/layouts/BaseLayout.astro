---
import MainHead from '../components/MainHead.astro';
import WhatsAppWidget from '../components/WhatsAppWidget.astro';
import '@fontsource-variable/dm-sans';

interface Props {
	title?: string | undefined;
	description?: string | undefined;
	haveWhatsAppWidget?: boolean | undefined;
}

const { title, description, haveWhatsAppWidget = true } = Astro.props;
---

<html lang="es">
	<head>
		<MainHead title={title} description={description} />
	</head>
	<body>
		<slot />
		{haveWhatsAppWidget && (
			<WhatsAppWidget />
		)}
	</body>

	<script>
		document.addEventListener('astro:page-load', function() {
			const hero = document.getElementById('hero');
			
			if (hero) {
				window.addEventListener('scroll', function() {
					const scrollPosition = window.scrollY;
					const heroBottom = hero.offsetTop;
					if (scrollPosition >= heroBottom) {
						const distanceFromBottom = scrollPosition - heroBottom;
						const parallaxValue = distanceFromBottom * .7;
						hero.style.transform = `translateY(${parallaxValue}px)`;
					}
				});
			}
		});
	</script>
</html>
