---
import MainHead from '../components/MainHead.astro';
import '@fontsource-variable/dm-sans';

interface Props {
	title?: string | undefined;
	description?: string | undefined;
}

const { title, description } = Astro.props;
---

<html lang="es">
	<head>
		<MainHead title={title} description={description} />
	</head>
	<body>
		<slot />
	</body>

	<script>
		document.addEventListener('astro:page-load', function() {
			const hero = document.getElementById('hero');
	
			if (hero) {
				let lastScrollPosition = 0;
				let ticking = false;
	
				const onScroll = () => {
					lastScrollPosition = window.scrollY;
					if (!ticking) {
						window.requestAnimationFrame(() => {
							const heroBottom = hero.offsetTop;
							if (lastScrollPosition >= heroBottom) {
								const distanceFromBottom = lastScrollPosition - heroBottom;
								const parallaxValue = distanceFromBottom * 0.7;
								hero.style.transform = `translateY(${parallaxValue}px)`;
							}
							ticking = false;
						});
						ticking = true;
					}
				};
	
				window.addEventListener('scroll', onScroll);
			}
		});
	</script>
	

	<!-- <script>
		document.addEventListener('astro:page-load', function() {
			const hero = document.getElementById('hero');
			
			if (hero) {
				window.addEventListener('scroll', function() {
					const scrollPosition = window.scrollY;
					const heroBottom = hero.offsetTop;
					if (scrollPosition >= heroBottom) {
						const distanceFromBottom = scrollPosition - heroBottom;
						const parallaxValue = distanceFromBottom * .7;
						hero.style.transform = `translateY(${parallaxValue}px)`;
					}
				});
			}
		});
	</script> -->
</html>
