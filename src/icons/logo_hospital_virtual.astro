---
interface Props {
    color?: string | undefined;
    width?: string | undefined;
}

const { color = "var(--white)", width = "100px"} = Astro.props
---

<svg
	id="logo-h"
	stroke={color}
    style={`fill: ${color}; width: ${width}; max-width: 90%;`}
	viewBox="0 309 612 173"
>
	<path d="M102,351.5c0.5-4.9-3.1-9.3-7.9-9.8c-0.4,0-0.8,0-1.3,0c-2.3,4.3-0.6,9.7,3.7,12c0.2,0.1,0.5,0.2,0.8,0.4
		c0.8,3.5-0.8,7.1-4.4,9.8l-21.4,15.7l0,0h0c-4.4,3.2-5.4,9.5-2.2,13.9c0.6,0.8,1.3,1.6,2.2,2.2l1.1,0.8l9.5-6.7
		c1.9-1.3,3-3.4,3.1-5.6c1.9,1.5,2.3,4.1,0.8,6c-0.2,0.3-0.6,0.6-0.9,0.9l-13.5,9.9c-3,2.2-3.7,6.4-1.5,9.4c0.4,0.6,0.9,1,1.5,1.5
		l3.5,2.5l-1.2,0.9c-1.2,0.9-1.5,2.7-0.6,3.9c0.1,0.1,0.2,0.2,0.3,0.3c0,0,2.9,4.1,3.1,6.7l0.4,45.1c0,1.4,1,2.6,2.4,2.6
		c1.4,0,2.6-1,2.6-2.4c0-0.1,0-0.1,0-0.2l0.4-45.1c0.2-2.6,3.1-6.7,3.1-6.7c1.1-1.1,1.1-2.9,0-3.9c-0.1-0.1-0.2-0.2-0.3-0.3l-1.2-0.9
		l3.5-2.5c3-2.2,3.7-6.4,1.5-9.4c-0.4-0.6-0.9-1-1.5-1.5l-1.1-0.8l-10.9,8l0,0l-0.7-0.5c-0.4-0.3-0.6-0.7-0.6-1.2
		c0-0.4,0.1-0.7,0.4-1c0.2-0.2,0.4-0.4,0.7-0.5c0.5-0.3,13.2-9.7,13.2-9.7c4.2-3.2,5-9.2,1.8-13.3c-0.6-0.7-1.2-1.4-1.9-1.9l-1.8-1.4
		l-9.1,6.6c-2,1.5-3.1,3.8-2.9,6.2c0,0,0,0,0,0.1v-0.1c-1.2-0.9-1.9-2.3-1.9-3.8c0-1.2,0.5-2.4,1.4-3.2c0.2-0.2,0.3-0.3,0.5-0.5
		c0.2-0.2,5.2-3.8,5.2-3.8l0,0l9.9-7.3l0.4-0.3l6-4.4C101.8,363.8,104.1,357.4,102,351.5 M84,404.7l0.5,0.4c0.7,0.5,0.8,1.5,0.3,2.1
		c-0.1,0.1-0.2,0.2-0.3,0.3l-0.8,0.5L84,404.7z"/>
	<path d="M83.2,339.4c4.4-1.5,7.3-5.6,7.3-10.3c0-1.3-0.2-2.5-0.7-3.8c-2.1-5.6-8.3-8.6-14-6.5
		c-3,1.1-5.4,3.5-6.5,6.5c-0.5,1.2-0.7,2.5-0.7,3.8c0,4.7,3,8.8,7.3,10.3c-2.7,1.4-4.5,4.1-4.5,7.2l1.5,21.9l-6.6-4.8
		c-3.6-2.6-5.2-6.2-4.5-9.8c4.6-1.8,6.7-7,4.9-11.6c-0.1-0.3-0.2-0.5-0.4-0.8c-4.9-0.2-9.1,3.6-9.3,8.6c0,0.4,0,0.8,0,1.2
		c-2,5.9,0.3,12.3,6.1,16.6l9.3,6.8l14-9.8l1.2-18.4C87.7,343.6,85.9,340.8,83.2,339.4z M79.7,332.2c-1.7,0-3.1-1.4-3.1-3.1
		c0-1.7,1.4-3.1,3.1-3.1c1.7,0,3.1,1.4,3.1,3.1C82.7,330.8,81.4,332.2,79.7,332.2L79.7,332.2z"/>
	<path d="M114.3,339.2c-7.3,0-12.5,5-12.5,12v15.4h7c4.2,0,6.7-2.3,6.7-6.4v-6.4c0-0.8,0.7-1.4,1.5-1.4h28.6
		c2.5,0,4.7-1.8,5-4.3l0.1-0.6h-35.8c-2.8,0-4.4,1.5-4.4,4.2v7.8c0,1.4-0.8,2.2-2.3,2.2H107v-10.3c0-4,3.4-7.3,7.6-7.3h39.8
		c2.5,0,4.7-1.8,5-4.3l0.1-0.6L114.3,339.2z"/>
	<path d="M90.8,374.9h19.3c7.8,0,14.1-6.1,14.1-13.5v-0.7h12.8c2.5,0,4.7-1.8,5-4.3l0.1-0.6h-21.9c-0.6,0-1,0.4-1,1
		v4.6c0,4.8-4,8.6-9,8.6l-12.4,0L90.8,374.9"/>
	<path d="M43.8,353.8v6.4c0,4.1,2.4,6.4,6.7,6.4h7v-15.4c0-7-5.2-12-12.5-12H0l0.1,0.6c0.4,2.5,2.5,4.3,5,4.3h39.7
		c4.2,0,7.6,3.2,7.6,7.3v10.3h-1.3c-1.5,0-2.3-0.8-2.3-2.2v-7.8c0-2.7-1.6-4.2-4.4-4.2H8.6l0.1,0.6c0.4,2.5,2.5,4.3,5,4.3h28.6
		C43.1,352.4,43.8,353,43.8,353.8L43.8,353.8z"/>
	<path d="M52.4,370L52.4,370h-3.1c-5,0-9-3.9-9-8.6v-4.6c0-0.6-0.5-1-1-1l0,0H17.3l0.1,0.6c0.4,2.5,2.5,4.3,5,4.3
		h12.8v0.7c0,7.5,6.3,13.5,14.1,13.5h18.4l-6.7-4.9L52.4,370z"/>
	<path d="M73.2,454.3c-16.9,1.3-30.1-4.7-38.6-14.6c-8.1-9.6-11.1-24.3-7.6-39.5c2-7.1,4.6-13.7,8.1-19.7
		c-2-1.5-4-4-4.6-6.1l-0.5-0.5l-0.5,0.5c-6.2,8.3-10.7,17.8-13.2,27.9c-4.6,18.2-1.5,35.9,8.1,48.6c9.8,13.2,26.6,20.7,48.7,18.5
		L73.2,454.3L73.2,454.3z"/>
	<path d="M157.6,375.9c-0.7-8.3-2.9-15.2-6.2-21c-1.1,0.8-2.5,1.3-3.9,1.4l-2,1.9c-0.3,2.8-1.7,4.7-4,5.7
		c1.9,4.7,2.9,9.6,3,14.7c1,15.2-6.1,32.9-18.2,47.1c-10.7,12.4-24.9,21.8-40.3,26.4c0,2.2,0,14.7,0,15.1
		c19.2-5.2,37.5-17.3,50.5-32.8C151.6,416.4,159.1,394.6,157.6,375.9z"/>
	<path d="M95.8,331.5v5.4c0,1.6,1.3,2.9,2.9,2.9c0,0,0.1,0,0.1,0c2.1-0.1,4.2,0,6.3,0.1c2.5-1.7,5.5-2.8,8.6-2.9H132
		C121.8,331.5,109.3,329.7,95.8,331.5z"/>
	<path d="M437.5,415h29.9c0.6,0,1,0.3,1.3,0.8l1.4,2.3l4.3-15.9c0.2-0.8,1-1.2,1.7-0.9c0.5,0.1,0.8,0.5,0.9,0.9
		l5.4,19.9l2.9-10.6c0.2-0.8,1-1.2,1.7-0.9c0.4,0.1,0.8,0.4,0.9,0.8l1.9,4l2.7-7.5c0.3-0.7,1.1-1.1,1.8-0.8c0.4,0.1,0.7,0.5,0.8,0.8
		l3.4,9.1l0.3-1c0.2-0.6,0.7-1,1.4-1h31.9c0.4-0.8,1.4-1.4,2.3-1.3c1.5,0,2.7,1.2,2.7,2.7c0,1.5-1.2,2.7-2.7,2.7
		c-0.9,0-1.8-0.4-2.3-1.3h-30.8l-1.1,4.1l0,0c-0.1,0.4-0.4,0.8-0.8,0.9c-0.7,0.3-1.5-0.1-1.8-0.8l-3.7-9.7l-2.6,7.1l0,0
		c-0.3,0.7-1.1,1.1-1.8,0.8c-0.3-0.1-0.6-0.4-0.8-0.7l-1.7-3.7l-3.2,11.9c-0.1,0.5-0.5,0.9-1,1c-0.8,0.2-1.5-0.2-1.7-1l-5.4-20
		l-3.9,14.2l0,0c-0.1,0.4-0.3,0.7-0.7,0.8c-0.7,0.4-1.5,0.1-1.9-0.5l-2.8-4.6h-29.2c-0.5,0.8-1.3,1.3-2.3,1.2c-1.2,0-2.7-1.2-2.7-2.7
		c0.1-1.5,1.3-2.6,2.7-2.7C436.2,413.5,437.1,414.1,437.5,415z"/>
	<path d="M193,388.3v43.5h44.6v12.3h-59.1v-55.9H193z"/>
	<path d="M326.2,436.3c0,4.9-3.4,7.5-10.1,7.9c-6,0-21.7,0-47.1,0c-5,0-7.7-2.7-8.1-8.1c0.1-6.8,0.1-20.5,0-41.1
		c0-4.1,3.5-6.3,10.6-6.6h44.7c6.2,0,9.6,2.1,10.1,6.3L326.2,436.3L326.2,436.3z M312.4,432.4v-32.1h-38v32.1H312.4z"/>
	<path d="M421.5,422v14.8c0,4.5-2,7-5.9,7.3h-59.5v-55.9h59.4c3.7,0,5.7,2.5,6,7.6V410c0.3,3.7-1.7,5.6-6,5.9
		C419.2,415.7,421.2,417.8,421.5,422z M370.8,408.9h34.9c1.4,0,2.1-1.1,2.1-3.3v-2.3c0-2.1-0.7-3.2-2.1-3.2h-34.9V408.9z
		 M370.8,431.8h34.9c1.4,0,2.1-1.1,2.1-3.3v-2.3c0-2.2-0.7-3.3-2.1-3.3h-34.9V431.8z"/>
	<path d="M603,444.2h-56.2v-11.7h51.4v-10.2h-40.9c-7-0.4-10.6-2.8-10.6-7.1v-20.2c0-4.1,3.5-6.3,10.6-6.6H612v11.9
		h-51.7v10.3h42.6c5.7,0,8.7,2,9.1,5.9v20.9C611.6,441.9,608.6,444.2,603,444.2z"/>
	<path d="M502.9,432.4H465v-13h-13.5c0,7.5,0,13.1,0,16.7c0.4,5.4,3.1,8.1,8.1,8.1c25.5,0,41.2,0,47.1,0
		c6.8-0.4,10.1-3,10.1-7.9v-16.9h-13.8V432.4z"/>
	<path d="M506.7,388.3H462c-7.1,0.3-10.6,2.5-10.6,6.6c0,6.6,0,12.4,0,17.6H465v-12.4h37.9v12.3h13.8v-17.9
		C516.3,390.4,512.9,388.3,506.7,388.3z"/>
	<path d="M182.4,353.9h1.1v10.9h3.5v-10.9h4.9V380H187v-10.9h-3.5V380h-4.9v-26.2H182.4z"/>
	<path d="M219.8,355.6c1.2,1,1.9,2.5,1.9,4.1v14.6c0,1.6-0.7,3.1-1.9,4.1c-1.3,1.1-3,1.7-4.7,1.7
		c-1.7,0-3.4-0.6-4.7-1.7c-1.2-1-1.9-2.5-1.9-4.1v-14.6c0-1.6,0.7-3.1,1.9-4.1c1.3-1.1,3-1.7,4.7-1.7
		C216.8,353.8,218.5,354.4,219.8,355.6z M213.9,358.6c-0.3,0.2-0.5,0.7-0.5,1v14.6c0,0.4,0.2,0.8,0.5,1c0.3,0.3,0.8,0.4,1.2,0.4
		c0.4,0,0.8-0.1,1.2-0.4c0.3-0.3,0.5-0.7,0.5-1v-14.6c0-0.4-0.2-0.8-0.5-1c-0.3-0.3-0.8-0.4-1.2-0.4
		C214.6,358.2,214.2,358.3,213.9,358.6z"/>
	<path d="M244.4,380c-3.6,0-6.3-2.6-6.3-5.8v-2.8h4.7v2.8c0,0.8,0.8,1.6,1.6,1.5l0,0c0.8,0,1.4-0.6,1.4-1.4
		c0,0,0,0,0-0.1v-1.4c0-1.4-1.4-2.4-2-3.1c-1.3-1.5-3.5-3.1-4.4-4.1c-0.8-1.2-1.4-2.5-1.5-4l-0.1-2c0-3.2,2.9-5.8,6.5-5.8
		s6.2,2.6,6.2,5.8v2.8h-4.7v-2.8c0-0.8-0.6-1.5-1.3-1.5c0,0,0,0-0.1,0c-0.8,0-1.6,0.6-1.6,1.5l0,0v1.1c0.1,0.8,0.4,1.5,0.8,2.1
		c0.8,1,2,1.7,2.5,2.3c1.9,1.8,2.7,2.3,3.3,3.3c0.8,1.1,1.2,2.4,1.3,3.8v2C250.7,377.4,248,380,244.4,380z"/>
	<path d="M268.2,380h-1.1v-26.1h5.5c1.9,0,3.8,0.6,5.2,1.9c1.4,1.1,2.2,2.8,2.2,4.5v4.8c0,1.7-0.8,3.4-2.2,4.5
		c-1.4,1.3-3.3,1.9-5.2,1.9H272v8.5H268.2L268.2,380z M272,367.2h0.7c0.6,0,1.2-0.2,1.7-0.6c0.5-0.4,0.7-0.9,0.7-1.5v-4.8
		c0-0.6-0.2-1.1-0.7-1.5c-0.5-0.4-1.1-0.6-1.7-0.6H272V367.2z"/>
	<path d="M300.5,353.9h1.1V380h-4.9v-26.2H300.5z"/>
	<path d="M318.8,358.2h-1.1v-4.3h13.2v4.3h-4.1V380h-4.9v-21.8H318.8z"/>
	<path d="M350.7,375.9c-0.3,1.4-0.6,2.7-0.9,4h-5.1l5.1-26.1h6.4l5.1,26.2h-5c-0.3-1.4-0.6-2.7-0.9-4.1H350.7z
		 M353.1,359.4l-1.7,12.4h3.3L353.1,359.4z"/>
	<path d="M381.1,353.9h1.1v21.8h6.6v4.3h-11.6v-26.2H381.1z"/>
	<path d="M434.7,370.9l2.4-16.3l0.1-0.8h5.1l-4.9,26.2h-5.5l-4.7-26.2h4.9l0.1,0.5L434.7,370.9z"/>
	<path d="M462.2,353.9h1.1V380h-4.9v-26.2H462.2z"/>
	<path d="M481.4,380h-1.1v-26.1h5.7c1.9,0,3.8,0.6,5.2,1.9c1.4,1.1,2.2,2.8,2.2,4.5v3.9c0,1.6-0.8,3.1-2,4.2
		c1.2,1.2,2,2.6,2,4.2v4.9c-0.1,0.8,0.1,1.6,0.5,2.4h-4.9c-0.2-0.3-0.3-0.7-0.4-1.1c0-0.4-0.1-0.9-0.1-1.3v-4.9
		c0-0.6-0.2-1.1-0.7-1.5c-0.5-0.4-1.1-0.6-1.7-0.6h-0.8v9.4L481.4,380L481.4,380z M485.2,366.3h1c0.6,0,1.2-0.2,1.7-0.6
		c0.5-0.4,0.7-0.9,0.7-1.5v-3.9c0-0.6-0.2-1.1-0.7-1.5c-0.5-0.4-1.1-0.7-1.7-0.6h-1V366.3z"/>
	<path d="M510.3,358.2h-1.1v-4.3h13.2v4.3h-4.1V380h-4.9v-21.8H510.3z"/>
	<path d="M551.7,374.2c0,1.6-0.7,3.1-1.9,4.1c-2.7,2.3-6.6,2.3-9.3,0c-1.2-1-1.9-2.5-1.9-4.1v-20.3h4.9v20.4
		c0,0.4,0.2,0.8,0.5,1c0.3,0.3,0.8,0.4,1.2,0.4c0.4,0,0.8-0.1,1.2-0.4c0.3-0.3,0.5-0.7,0.5-1v-20.4h4.9L551.7,374.2L551.7,374.2z"/>
	<path d="M573.5,375.9c-0.3,1.4-0.6,2.7-0.9,4h-5l5.1-26.2h6.4l5.1,26.2h-5c-0.3-1.4-0.6-2.7-0.9-4.1L573.5,375.9z
		 M575.9,359.4l-1.7,12.4h3.3L575.9,359.4z"/>
	<path d="M603.9,353.9h1.1v21.8h6.6v4.3h-11.6v-26.2H603.9L603.9,353.9z"/>
	<polyline id="line" points="434.9,416.2 467.2,416.2 470.5,421.3 475.7,402.9 
	482.5,427.2 486.7,412.1 489.9,418.6 493.9,408.5 498.7,421 500.5,416.2 534.6,416.2 "/>
</svg>

<style>
	#logo-h {
		fill-opacity: 0;
		stroke-dasharray: 1300;
		stroke-dashoffset: 1300;
	}

	#line {
		stroke: var(--primary);
		stroke-width: 2;
		fill: none;
	}

	@keyframes dash {
		70% {
			fill-opacity: 0;
		}

		100% {
			fill-opacity: 100%;
			stroke-dashoffset: 0;
			stroke-width: 1;
		}
	}
</style>

<script>
	import anime from 'animejs/lib/anime.es.js';
	
	document.addEventListener('astro:page-load', function() {
	    const logo: HTMLElement | null = document.getElementById('logo-h');
	    const pulsePath: SVGPathElement | null = document.getElementById('line') as SVGPathElement | null;
	
	    const observerOptions: IntersectionObserverInit = {
	        root: null,
	        rootMargin: '0px',
	        threshold: 0.15
	    };
	
	    function handleIntersection(entries: IntersectionObserverEntry[], observer: IntersectionObserver): void {
	        entries.forEach(entry => {
	            if (entry.isIntersecting && logo) {
					console.log("path observado")
	                logo.style.animation = 'dash 1.2s ease-in forwards';
	                if (pulsePath) {
	                    const pathLength: number = pulsePath.getTotalLength();
	                    pulsePath.setAttribute('stroke-dasharray', pathLength.toString());
	                    pulsePath.setAttribute('stroke-dashoffset', pathLength.toString());
					
	                    anime({
	                        targets: '#line',
	                        strokeDashoffset: [
	                            { value: pathLength },
	                            { value: 0, duration: 800 }
	                        ],
	                        opacity: [
	                            { value: 1, duration: 0 },
	                            { value: 1, duration: 1250 },
	                            { value: 0, duration: 750 }
	                        ],
	                        easing: 'linear',
	                        duration: 1500,
	                        loop: true
	                    });
	                }
				
	                observer.unobserve(logo);
	            }
	        });
	    }
	
	    const observer: IntersectionObserver = new IntersectionObserver(handleIntersection, observerOptions);
	
	    if (logo) {
	        observer.observe(logo);
	    }
	});
</script>
